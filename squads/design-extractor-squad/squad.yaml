name: design-extractor-squad
version: 1.0.0
description: >
  Squad especializado em extrair design systems completos a partir de amostras visuais:
  URLs de sites, screenshots, imagens ou refer√™ncias de UI. Analisa visualmente cores,
  tipografia, espa√ßamento, componentes e efeitos ‚Äî gerando tokens CSS, documenta√ß√£o
  e um arquivo HTML de design system pronto para uso.
author: leonardogazola
license: MIT
slashPrefix: design-extractor

aios:
  minVersion: "2.1.0"
  type: squad

agents:
  - id: lens
    name: Lens
    file: agents/lens.md
    role: Visual Analyzer & Design Scanner
    icon: "üîç"
    description: >
      Captura e analisa amostras visuais (URLs, screenshots, imagens).
      Extrai paleta de cores, tipografia, espa√ßamentos, bordas e efeitos.

  - id: forge
    name: Forge
    file: agents/forge.md
    role: Token Builder & System Generator
    icon: "‚öóÔ∏è"
    description: >
      Recebe an√°lise do Lens e gera os tokens CSS, componentes HTML
      e o arquivo de design system completo e deploy√°vel.

components:
  tasks:
    - capture-visual-sample.md
    - analyze-colors.md
    - analyze-typography.md
    - analyze-components.md
    - generate-tokens.md
    - build-design-system-page.md
    - full-extraction-pipeline.md
  workflows:
    - extract-from-url.yaml
    - extract-from-image.yaml
    - full-extraction.yaml
  checklists:
    - extraction-quality-checklist.md
  templates:
    - design-system-output-tmpl.html
    - tokens-tmpl.css
  data:
    - common-design-patterns.md

tools:
  - playwright   # Captura de screenshot via MCP
  - web-fetch    # Leitura de CSS/HTML de URLs
  - vision       # An√°lise de imagens (via Claude multimodal)

inputs:
  - type: url
    description: URL de um site para capturar e analisar
    example: "https://stripe.com"
  - type: image
    description: Screenshot ou imagem de uma interface
    example: "design-reference.png"
  - type: html
    description: Arquivo HTML/CSS para extra√ß√£o de tokens
    example: "index.html"

outputs:
  - type: html
    description: P√°gina de design system completa e deploy√°vel
    path: "outputs/{name}-design-system.html"
  - type: css
    description: Arquivo de tokens CSS (vari√°veis)
    path: "outputs/{name}-tokens.css"
  - type: json
    description: Design tokens em formato W3C DTCG
    path: "outputs/{name}-tokens.json"
  - type: md
    description: Relat√≥rio de extra√ß√£o com an√°lise
    path: "outputs/{name}-extraction-report.md"

commands:
  - name: extract-url
    description: Extrai design system de uma URL
    usage: "*extract-url {url}"
    example: "*extract-url https://stripe.com"
    agent: lens

  - name: extract-image
    description: Extrai design system de uma imagem ou screenshot
    usage: "*extract-image {path-or-description}"
    example: "*extract-image minha-referencia.png"
    agent: lens

  - name: extract-html
    description: Extrai tokens de um arquivo HTML/CSS local
    usage: "*extract-html {path}"
    example: "*extract-html site/index.html"
    agent: lens

  - name: build-ds
    description: Gera o arquivo de design system a partir de uma an√°lise existente
    usage: "*build-ds {analysis-file}"
    agent: forge

  - name: full-pipeline
    description: Pipeline completo ‚Äî da amostra ao design system deployado
    usage: "*full-pipeline {url|image|html}"
    workflow: full-extraction.yaml

  - name: tokens-only
    description: Gera apenas os tokens CSS/JSON sem a p√°gina de componentes
    usage: "*tokens-only {input}"
    agent: forge

  - name: help
    description: Mostra todos os comandos dispon√≠veis

  - name: exit
    description: Sai do squad
